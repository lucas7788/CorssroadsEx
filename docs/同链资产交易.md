
# CrossroadsEX的同链资产交易

按计划，同链资产交易是CrossroadsEx的第一步。

## CrossroadsEX的形态

真正的去中心化交易所应该是跟公链节点一样完全平等，甚至没有运营方。现阶段的去中心化交易所都需要用户打开某个网站，加载由特定运营方
提供的网页内容，才能进行交易。用户进行交易时，很有可能被运营方监控。
当运营方停止提供服务时，接入交易所的用户界面也将消失不见，这显然违背了去中心化交易所的理念。

那么如何克服这种问题？有一个非常简单的方法就是，将交易所的界面资源，做成一个客户端的形式，让用户下载到本地。这个客户端不与任何中心化的服务器交互，
直接与用户指定的公链节点交互。用户在这种环境里，任何买卖的动作，都将作为智能合约调用，直接发送到链上，而不会受到任何监控。这种形式只需要有一个公链节点，
节点打开自己的链上通信端口，用户即可将交易发送到链上。这种节点的建立和使用非常便捷，用户可以自己运行一个同步节点，也可以使用现成的同步节点服务，比如
ethereum上的infula。

CrossroadsEX将使用上述的形态运作。将用户使用到的所有界面资源，脚本文件，全部打包成一个可执行文件，用户下载到自己的电脑上之后，打开运行，就可以直接进行交易。

## CrossroadsEX的交易对

目前的去中心化交易所，无论是基于哪条公链的，新上一个交易对都需要人工审核，这个审核过程由运营方把控。当项目方想增加代币的流通性时，这种审核势必会给项目方
带来困扰，无论是审核时间的长短还是上币费用的多寡，对于一个初创项目方来说都是很大的麻烦。另一方面，这种审核也是违反去中心化理念的，一个正真的去中心化交易所
不应对任何代币的交易设置门槛和台阶，交易对的增加和减少应完全由用户来决定。这正是CrossroadsEX要做的事情。

当项目方想要在CrossroadsEX上添加自己的token交易对时，只需要调用CrossroadsEX的智能合约即可实现。当一个交易对被添加到CrossroadsEX上后，所有的CrossroadsEX客户端都能
看到这个交易对并进行交易。这种高自由度的交易对添加模式没有任何门槛和限制，任何人只需要支付链上处理智能合约调用的手续费即可在CrossroadsEX上添加交易对从而在全网
交易。这种自由度是目前所有的交易所，无论是中心化的还是去中心化的，都没有达到的。

但是，使用这种无门槛的上币模式势必会导致劣质代币泛滥成灾，一个用户打开CrossroadsEX的客户端可能会在短短的几分钟内看到几十个新的交易对被添加，这将对用户的体验造
成毁灭性的打击。此时CrossroadsEX客户端引入了一个屏蔽功能：当新增加的交易对被广播到自己的客户端时，用户可以选择屏蔽这个新的交易对，这样新上的这个交易对将不会占用
任何的用户界面。甚至，用户在CrossroadsEX客户端运行时，可以设置不接受任何新的交易对，只对已有的交易对进行操作。用户也可以搜索自己感兴趣的交易对，将其添加到自己的
交易对列表里。在这种情况下，如果一个项目方新添加了自己token的交易对，更多的可能是不被大部分用户接受，只有当项目方的知名度提升之后，用户才会去搜索这个交易对并
进行交易。

## CrossroadsEX的运行机制

CrossroadsEX将由三本（或者更多的）智能合约组成：一本用来做全局控制，名为CrossroadsEXManager，例如交易对的增加与删除；一本用来做交易对的载体，
名为CrossroadsEXBook，这本合约在一个交易对被添加时创建，用来代表这个交易对；一本用来控制交易手续费，名为CrossroadsEXFee。

当交易对被创建时，CrossroadsEXManger将部署一本CrossroadsEXBook合约，用来管理这个交易对。这个交易对的所有买卖挂单均有CrossroadsEXBook维护：用户挂单时，Book将挂单的价格与
数量记录下来，用户吃单时，Book合约找到对应的订单，完成撮合，将成交的代币发送到交易双方，同时将手续费发送到CrossroadsEXFee合约。

